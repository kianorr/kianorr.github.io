<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Every Bang in DuckDuckGo | SLC is</title><meta name=description content="Sharpest corner of the IPFS."><link rel=stylesheet href=/css/simple.css/simple.min.css media=all onload='this.media="all",this.onload=null'></head><body><header><nav><a href=/>Home</a>
<a href=/posts/>Posts</a>
<a href=/music/>Music</a>
<a href=/about/>About</a></nav><h1>Every Bang in DuckDuckGo</h1><i>2021/08/31</i></header><main><article><p><img src=/images/ddg.webp alt="Dax the Duck"></p><p>In response to a <a href=https://www.reddit.com/r/duckduckgo/comments/pf6t4q/is_there_any_option_to_export_all_the_ddg_bangs/>question</a> about a list of all DuckDuckGo !bangs, I wrote this script:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> requests <span style=color:#f92672>import</span> get
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> json <span style=color:#f92672>import</span> loads
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_bangs</span>():
</span></span><span style=display:flex><span>    r <span style=color:#f92672>=</span> get(<span style=color:#e6db74>&#39;https://duckduckgo.com/bang.v260.js&#39;</span>)
</span></span><span style=display:flex><span>    r <span style=color:#f92672>=</span> loads(r<span style=color:#f92672>.</span>text)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> r
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>create_dict</span>(bangs):
</span></span><span style=display:flex><span>    d <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;Misc&#39;</span>: set()}
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> bangs:
</span></span><span style=display:flex><span>        el <span style=color:#f92672>=</span> (i[<span style=color:#e6db74>&#39;s&#39;</span>]<span style=color:#f92672>.</span>strip(), i[<span style=color:#e6db74>&#39;t&#39;</span>]<span style=color:#f92672>.</span>strip())
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> i[<span style=color:#e6db74>&#39;c&#39;</span>] <span style=color:#f92672>in</span> d:
</span></span><span style=display:flex><span>                d[i[<span style=color:#e6db74>&#39;c&#39;</span>]]<span style=color:#f92672>.</span>add(el)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                d[i[<span style=color:#e6db74>&#39;c&#39;</span>]] <span style=color:#f92672>=</span> set(el)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>except</span>:
</span></span><span style=display:flex><span>            d[<span style=color:#e6db74>&#39;Misc&#39;</span>]<span style=color:#f92672>.</span>add(el)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> d
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>write_bangs</span>(d):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>with</span> open(<span style=color:#e6db74>&#39;ddgBangs.txt&#39;</span>, <span style=color:#e6db74>&#39;w&#39;</span>) <span style=color:#66d9ef>as</span> f:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> key, value <span style=color:#f92672>in</span> d<span style=color:#f92672>.</span>items():
</span></span><span style=display:flex><span>            print(key <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#39;</span>)
</span></span><span style=display:flex><span>            f<span style=color:#f92672>.</span>writelines(key <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#39;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> el <span style=color:#f92672>in</span> sorted(value, key<span style=color:#f92672>=</span><span style=color:#66d9ef>lambda</span> x: x[<span style=color:#ae81ff>0</span>]):
</span></span><span style=display:flex><span>                print(<span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\t</span><span style=color:#e6db74>&#39;</span>, <span style=color:#e6db74>&#39;: &#39;</span><span style=color:#f92672>.</span>join([e <span style=color:#66d9ef>for</span> e <span style=color:#f92672>in</span> el]))
</span></span><span style=display:flex><span>                f<span style=color:#f92672>.</span>write(<span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\t</span><span style=color:#e6db74>&#39;</span>)
</span></span><span style=display:flex><span>                f<span style=color:#f92672>.</span>writelines(<span style=color:#e6db74>&#39;: &#39;</span><span style=color:#f92672>.</span>join([e <span style=color:#66d9ef>for</span> e <span style=color:#f92672>in</span> el]))
</span></span><span style=display:flex><span>                f<span style=color:#f92672>.</span>write(<span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;__main__&#39;</span>:
</span></span><span style=display:flex><span>    bangs <span style=color:#f92672>=</span> get_bangs()
</span></span><span style=display:flex><span>    d <span style=color:#f92672>=</span> create_dict(bangs)
</span></span><span style=display:flex><span>    write_bangs(d)
</span></span></code></pre></div><p>On the site, I simply looked at the network history and saw a file requested: <a href=https://duckduckgo.com/bang.v260.js>https://duckduckgo.com/bang.v260.js</a>. The file was larger than any other file in the page which is what initially tipped me off. One look at it indicates that it&rsquo;s a dictionary with all the !bang data.</p><p>Amazingly, there are <code>13,565</code> !bangs. This is a short read, but the script may prove useful if <abbr title=DuckDuckGo>DDG</abbr> changes the file from where !bangs are loaded.</p><p>You can download <a href=/data/ddgBangs.txt>this text file</a> which contains every !bang organized under category in alphabetical order.</p></article></main><footer><small>Thanks to <a href=https://gohugo.io/>Hugo</a> for building and <a href=https://simplecss.org/>SimpleCSS</a>
for styling
â™¡</small></footer></body></html>